# 对象和类

对象与对象变量：JAVA中的对象变量就相当于C++中的**指针**

更改器方法与访问器方法：

* 更改器方法会更改对象状态
* 访问器方法只访问对象而不修改对象

在一个文件中只能有一个公共类（且该类名字必须和文件名相同），可以有任意数目的非公共类。

JAVA中构造器总是结合new操作符一起使用

使用```var```声明**局部变量**

使用```null```引用：

```java
//接收null时，将其转换为字段
public xxx(String n)
{
    name = Object.requireNonNullElse(n,"unknow");
}
//拒绝null
public xxx(String n)
{
    Object.requireNonNull(n,"can not be null");
    name = n;
}
```

JAVA所有方法必须在类的内部定义

注意不要编写返回**可变对象引用**的访问器方法，如果需要返回一个可变对象的引用（可变数据字段的副本），首先应该对它**克隆**

```java
Class Employee
{
    public Data getHireDay()
    {
        return (Data) hireDay.clone();
	}
}
```

### final实例字段：

这样的字段必须在构造对象时及逆行初始化，初始化后，这些字段不能再被修改。表示储存在变量中的对象引用不会再指示另一个不同的对象。

### 静态字段（类字段）：

每个类中只有一个“static”字段，每个对象无副本。

### 静态常量：

静态常量适用于类中常数的定义。

### 静态方法：

指不在对象上执行的算法（也指不能再对象上执行的操作算法），只能对类字段进行操作。

* 方法不需要访问对象状态
* 只需要访问静态字段

建议使用类名来调用静态方法（也可以使用对象名来调用静态方法）。

### 构造对象：

* 构造器构造
* 静态工厂方法
  * 解决无法命名构造器的问题
  * 解决使用构造器时不能改变所构造对象的类型

默认字段初始化：如果构造器中没有显式为字段设置处置，那么就会被自动赋值为：

* 数值为0
* boolean： false
* 对象引用：null

无参构造器：如果编写时没有写，则会提供一个无参数构造器，如果类中提供了至少一个构造器，但没有无参构造器，则没有提供参数的行为是不合法的。

显示字段初始化：

* 可以直接在类中为任何字段 **赋值**。

初始化块方法：放在代码块中进行初始化

* 匿名代码块：在对象构造时候执行
* 静态代码块：类一加载就会执行

静态字段初始化：可以将静态字段复杂代码放在初始化块中：

```java
static
{
    var generator = new Random();
    nextId = generator.nextInt(10000);
}
```



注意事项：

1. 如果构造器第一行调用了另一个构造器，则基于参数执行第二个构造器
2. 否则
   1. 所有字段初始化为默认值
   2. 按声明顺序执行所有字段初始化和初始化块。
3. 执行构造器主体代码



### 抽象类：

包含一个或者多个抽象方法的类本身必须被声明为抽象的：

```java
public abstract class Person
{
    public abstract String get();
}
```

那么扩展抽象类两种方法：

* 定义全部方法，则子类不再抽象
* 保留一部分不定义，则子类仍抽象应声明为抽象。

### main方法：

静态方法可以直接调用而不需要任何对象。测试时可以给每一个类一个**main方法**

### 包：

包名以Intentweb逆序来命名。

类的导入：

* 使用**完全限定名**
* 使用```import```语句

